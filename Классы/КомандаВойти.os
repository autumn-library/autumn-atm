&Пластилин
Перем ТекущийПользователь;

&Пластилин
Перем МенеджерСущностей;

Функция ВыполнитьКоманду(Знач Параметры) Экспорт
	Если Параметры.Количество() <> 2 Тогда
		Возврат Ложь;
	КонецЕсли;
	
	ИмяПользователя = Параметры[1];
	
	НайденныйПользователь = МенеджерСущностей.ПолучитьОдно(Тип("Пользователь"), ИмяПользователя);
	
	Если НайденныйПользователь = Неопределено Тогда
		НайденныйПользователь = МенеджерСущностей.СоздатьЭлемент(Тип("Пользователь"));
		НайденныйПользователь.ИмяПользователя = ИмяПользователя;
		НайденныйПользователь.Сохранить();
	КонецЕсли;
	
	ТекущийПользователь.Установить(НайденныйПользователь);
	
	Сообщить("Привет, " + ИмяПользователя + "!");
	
	Возврат Истина;
КонецФункции

&Желудь
&Прозвище("Команда")
Процедура ПриСозданииОбъекта()
КонецПроцедуры